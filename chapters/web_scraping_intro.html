
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Adatbányászat - Web scraping &#8212; Témakörök Python oktatásához</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapters/web_scraping_intro';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Wikipédia madárcsaládok" href="scraping_wikipedia_birds.html" />
    <link rel="prev" title="Témakörök Python oktatásához" href="../intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Témakörök Python oktatásához - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Témakörök Python oktatásához - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Témakörök Python oktatásához
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Webes adatbányászat - Web Scraping</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Adatbányászat - Web scraping</a></li>

<li class="toctree-l1"><a class="reference internal" href="scraping_wikipedia_birds.html">Wikipédia madárcsaládok</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Adatvizualizáció - Data Visualization</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Adatvizualizáció</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization_pandas.html">Vizualizáció Pandas könyvtár segítségével</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Generatív képalkotás - Generative art</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="generative_1_intro.html">PIL bevezetés - variációk egy témára</a></li>
<li class="toctree-l1"><a class="reference internal" href="generative_2_triangles.html">Háromszög csempék</a></li>
<li class="toctree-l1"><a class="reference internal" href="generative_3_circlerows.html">Sorokat alkotó körök</a></li>
<li class="toctree-l1"><a class="reference internal" href="generative_4_dots.html">Véletlen számok és Perlin zaj - vonaldiagramon</a></li>
<li class="toctree-l1"><a class="reference internal" href="generative_5_circle.html">Véletlen számok és Perlin zaj - körvonalon</a></li>
<li class="toctree-l1"><a class="reference internal" href="generative_7_packing.html">Halmozó algoritmus</a></li>
<li class="toctree-l1"><a class="reference internal" href="generative_8_tiles.html">Csempék</a></li>
<li class="toctree-l1"><a class="reference internal" href="generative_9_rasterize.html">Raszterizálás</a></li>
<li class="toctree-l1"><a class="reference internal" href="generative_10_lines.html">Véletlen vonalak</a></li>
<li class="toctree-l1"><a class="reference internal" href="generative_11_patterns.html">Minták létrehozása</a></li>
<li class="toctree-l1"><a class="reference internal" href="generative_12_random.html">Fokozatos kitöltés</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">L-rendszerek</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="l-system.html">Az L-rendszer</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/chapters/web_scraping_intro.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Adatbányászat - Web scraping</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Adatbányászat - Web scraping</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#szukseges-konyvtarak-telepitese-importalasa">Szükséges könyvtárak telepítése, importálása</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mintafeladat">1. Mintafeladat</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#weboldal-elerese">Weboldal elérése</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#print-limitalasa"><code>print()</code> limitálása</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#weboldal-tartalmanak-kinyerese">Weboldal tartalmának kinyerése</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cim-kiiratasa-title">Cím kiíratása - <code>title</code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#orszag-ok-nevei-find-es-find-all">Ország(ok) nevei - <code>find</code> és <code>find_all</code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#orszag-ok-adatai">Ország(ok) adatai</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#leg-orszagok">Leg… országok</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kivalasztott-weboldal-elerese">2. Kiválasztott weboldal elérése</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#beautifulsoup-konyvtar-alapok">BeautifulSoup könyvtár alapok</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#feladat-ellenorizd-le-a-soup-valtozo-tartalmat">Feladat - ellenőrizd le a <code>soup</code> változó tartalmát!</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bizonyos-html-tag-keresese">Bizonyos HTML tag keresése</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#egy-weblap-adatainak-kigyujtese">Egy weblap adatainak kigyűjtése</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#osszes-weblap-adatainak-kigyujtese-fajlba">Összes weblap adatainak kigyűjtése fájlba</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adatok-alapjan-uj-html-fajl-generalasa">Adatok alapján új HTML fájl generálása</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#marvel-karakterek">3. Marvel karakterek</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linkek-elkeszitese">Linkek elkészítése</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linkek-szurese-es-adatgyujtes">Linkek szűrése és adatgyűjtés</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="adatbanyaszat-web-scraping">
<h1>Adatbányászat - Web scraping<a class="headerlink" href="#adatbanyaszat-web-scraping" title="Link to this heading">#</a></h1>
<p>Adatok és információk weboldalakról kinyerésével foglalkozik.</p>
<section id="szukseges-konyvtarak-telepitese-importalasa">
<h2>Szükséges könyvtárak telepítése, importálása<a class="headerlink" href="#szukseges-konyvtarak-telepitese-importalasa" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%pip install bs4</span>
<span class="c1">#%pip install requests</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">requests</span> <span class="k">as</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">time</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="mintafeladat">
<h2>1. Mintafeladat<a class="headerlink" href="#mintafeladat" title="Link to this heading">#</a></h2>
<p><a class="reference external" href="https://www.scrapethissite.com/pages/simple/">https://www.scrapethissite.com/pages/simple/</a> weboldalról gyűjtsük ki az adatokat.</p>
<p><b>Megoldáshoz vezető lépések:</b></p>
<ol class="arabic simple">
<li><p>weboldal felmérése</p></li>
<li><p>kérdés(ek) megfogalmazása</p></li>
<li><p>adatgyűjtés</p></li>
<li><p>küzdelem a begyűjtött adatokkal</p></li>
<li><p>kérdés(ek) megválaszolása</p></li>
<li><p>megoldás bemutatása mások számára is érthető módon</p></li>
</ol>
<section id="weboldal-elerese">
<h3>Weboldal elérése<a class="headerlink" href="#weboldal-elerese" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://www.scrapethissite.com/pages/simple/&quot;</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Response [200]&gt;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="print-limitalasa">
<h2><code>print()</code> limitálása<a class="headerlink" href="#print-limitalasa" title="Link to this heading">#</a></h2>
<p>Az adatbányászat témakörnél előfordul, hogy egy egyszerű <code>print()</code> utasítás kimenete terjedelmes és rontja a jegyzet olvashatóságát. Az alábbi függvény segítségével limitáljuk a kimenetet. Általában 1000 karakterből el tudjuk dönteni a kimenet helyességét, de szükség esetén könnyen növelhető, csökkenthető.</p>
<p><code>obj</code> - mit szeretnénk kiíratni?</p>
<p><code>length</code> - hány karakternyit szeretnék kiíratni?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">printLimited</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)[:</span><span class="n">length</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<section id="weboldal-tartalmanak-kinyerese">
<h3>Weboldal tartalmának kinyerése<a class="headerlink" href="#weboldal-tartalmanak-kinyerese" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>

<span class="n">printLimited</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;!DOCTYPE html&gt;

&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;/&gt;
&lt;title&gt;Countries of the World: A Simple Example | Scrape This Site | A public sandbox for learning web scraping&lt;/title&gt;
&lt;link href=&quot;/static/images/scraper-icon.png&quot; rel=&quot;icon&quot; type=&quot;image/png&quot;/&gt;
&lt;meta content=&quot;width=device-width, initial-scale=1.0&quot; name=&quot;viewport&quot;/&gt;
&lt;meta content=&quot;A single page that lists information about all the countries in the world. Good for those just get started with web scraping.&quot; name=&quot;description&quot;/&gt;
&lt;link crossorigin=&quot;anonymous&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css&quot; integrity=&quot;sha256-MfvZlkHCEqatNoGiOXveE8FIwMzZg4W85qfrfIFBfYc= sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==&quot; rel=&quot;stylesheet&quot;/&gt;
&lt;link href=&quot;https://fonts.googleapis.com/css?family=Lato:400,700&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;
&lt;link href=&quot;/static/css/styles.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;
&lt;meta content=&quot;noindex&quot; name=&quot;robots&quot;/&gt;
&lt;link h
</pre></div>
</div>
</div>
</div>
</section>
<section id="cim-kiiratasa-title">
<h3>Cím kiíratása - <code>title</code><a class="headerlink" href="#cim-kiiratasa-title" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;title&gt;Countries of the World: A Simple Example | Scrape This Site | A public sandbox for learning web scraping&lt;/title&gt;
Countries of the World: A Simple Example | Scrape This Site | A public sandbox for learning web scraping
</pre></div>
</div>
</div>
</div>
</section>
<section id="orszag-ok-nevei-find-es-find-all">
<h3>Ország(ok) nevei - <code>find</code> és <code>find_all</code><a class="headerlink" href="#orszag-ok-nevei-find-es-find-all" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#h3</span>
<span class="n">countries</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">()</span>

<span class="n">printLimited</span><span class="p">(</span><span class="n">countries</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;/&gt;
&lt;title&gt;Countries of the World: A Simple Example | Scrape This Site | A public sandbox for learning web scraping&lt;/title&gt;
&lt;link href=&quot;/static/images/scraper-icon.png&quot; rel=&quot;icon&quot; type=&quot;image/png&quot;/&gt;
&lt;meta content=&quot;width=device-width, initial-scale=1.0&quot; name=&quot;viewport&quot;/&gt;
&lt;meta content=&quot;A single page that lists information about all the countries in the world. Good for those just get started with web scraping.&quot; name=&quot;description&quot;/&gt;
&lt;link crossorigin=&quot;ano
</pre></div>
</div>
</div>
</div>
</section>
<section id="orszag-ok-adatai">
<h3>Ország(ok) adatai<a class="headerlink" href="#orszag-ok-adatai" title="Link to this heading">#</a></h3>
<p>Milyen tag tartalmazza a kívánt adatot? Van azonosítója?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;country-capital&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Andorra la Vella
</pre></div>
</div>
</div>
</div>
</section>
<section id="leg-orszagok">
<h3>Leg… országok<a class="headerlink" href="#leg-orszagok" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Mennyi a legnagyobb ország népessége?</p></li>
<li><p>Milyen lenne az “átlagos” ország?</p></li>
<li><p>Hány ország adatait gyűjtöttük ki?</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">population</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;country-population&quot;</span><span class="p">)</span>

<span class="n">population_numbers</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">population</span><span class="p">:</span>
    <span class="n">population_numbers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="kivalasztott-weboldal-elerese">
<h2>2. Kiválasztott weboldal elérése<a class="headerlink" href="#kivalasztott-weboldal-elerese" title="Link to this heading">#</a></h2>
<p>200-as kód sikeres lekérést jelöl</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://hu.wikipedia.org/wiki/Kateg%C3%B3ria:N%C3%B6v%C3%A9nycsal%C3%A1dok&quot;</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>

<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Siker!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200
Siker!
</pre></div>
</div>
</div>
</div>
</section>
<section id="beautifulsoup-konyvtar-alapok">
<h2>BeautifulSoup könyvtár alapok<a class="headerlink" href="#beautifulsoup-konyvtar-alapok" title="Link to this heading">#</a></h2>
<p>Weboldal struktúrájának kinyerése</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="feladat-ellenorizd-le-a-soup-valtozo-tartalmat">
<h3>Feladat - ellenőrizd le a <code>soup</code> változó tartalmát!<a class="headerlink" href="#feladat-ellenorizd-le-a-soup-valtozo-tartalmat" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">printLimited</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;!DOCTYPE html&gt;

&lt;html class=&quot;client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-disabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-disabled vector-feature-appearance-pinned-cl
</pre></div>
</div>
</div>
</div>
<p>A kiíratást meg lehet csinálni szebben is a <code>prettify()</code> paranccsal, viszont az eredménye a <code>printLimited()<code> függvény miatt nem fog látszódni.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">printLimited</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">(),</span> <span class="mi">500</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;!DOCTYPE html&gt;
&lt;html class=&quot;client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-disabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-disabled vector-feature-appearance-pinned-cli
</pre></div>
</div>
</div>
</div>
</section>
<section id="bizonyos-html-tag-keresese">
<h3>Bizonyos HTML tag keresése<a class="headerlink" href="#bizonyos-html-tag-keresese" title="Link to this heading">#</a></h3>
<p><code>prettify()</code> itt is működik</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">articles</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">)</span>
<span class="n">printLimited</span><span class="p">(</span><span class="n">articles</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;div class=&quot;vector-header-container&quot;&gt;
&lt;header class=&quot;vector-header mw-header&quot;&gt;
&lt;div class=&quot;vector-header-start&quot;&gt;
&lt;nav aria-label=&quot;Wiki&quot; class=&quot;vector-main-menu-landmark&quot; role=&quot;navigation&quot;&gt;
&lt;div class=&quot;vector-dropdown vector-main-menu-dropdown vector-button-flush-left vector-button-flush-right&quot; id=&quot;vector-main-menu-dropdown&quot;&gt;
&lt;input aria-haspopup=&quot;true&quot; aria-label=&quot;Főmenü&quot; class=&quot;vector-dropdown-checkbox&quot; data-event-name=&quot;ui.dropdown-vector-main-menu-dropdown&quot; id=&quot;vector-main-menu-dropdown-checkb
</pre></div>
</div>
</div>
</div>
<p>A választott weboldalon jobb kattintás után <code>Vizsgálat</code> (<code>Inspect</code>) funkció sok hasznos információt árul el a weboldal felépítéséről.</p>
<p><img alt="web_scraping_1" src="../_images/web_scraping_1.png" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#mw-category mw-category-columns</span>

<span class="n">articles</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;mw-category mw-category-columns&quot;</span><span class="p">)</span>
<span class="n">printLimited</span><span class="p">(</span><span class="n">articles</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;div class=&quot;mw-category mw-category-columns&quot;&gt;&lt;div class=&quot;mw-category-group&quot;&gt;&lt;h3&gt; &lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;/wiki/N%C3%B6v%C3%A9nycsal%C3%A1dok_list%C3%A1ja&quot; title=&quot;Növénycsaládok listája&quot;&gt;Növénycsaládok listája&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;mw-category-group&quot;&gt;&lt;h3&gt;A&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;/wiki/Alk%C3%B6rm%C3%B6sf%C3%A9l%C3%A9k&quot; title=&quot;Alkörmösfélék&quot;&gt;Alkörmösfélék&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/wiki/%C3%81ltiszafaf%C3%A9l%C3%A9k&quot; title=&quot;Áltiszafafélék&quot;&gt;Áltiszafafélék&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/wiki/Amarilliszf%
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">links</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">articles</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">):</span>
    <span class="n">links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;https://hu.wikipedia.org&quot;</span><span class="o">+</span><span class="n">link</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">))</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">links</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>https://hu.wikipedia.org/wiki/N%C3%B6v%C3%A9nycsal%C3%A1dok_list%C3%A1ja
https://hu.wikipedia.org/wiki/Alk%C3%B6rm%C3%B6sf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/%C3%81ltiszafaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Amarilliszf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Anacampserotaceae
https://hu.wikipedia.org/wiki/Ann%C3%B3naf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Apodanthaceae
https://hu.wikipedia.org/wiki/Ar%C3%A1liaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Arauk%C3%A1riaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/%C3%81rvacsal%C3%A1nf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Bab%C3%A9rf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/B%C3%A1lv%C3%A1nyfaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Ban%C3%A1nf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Barkamirtuszf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Beg%C3%B3niaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/B%C3%A9kasz%C5%91l%C5%91f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/B%C3%A9katutajf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Bengef%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Bogl%C3%A1rkaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Bor%C3%A1g%C3%B3f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Borbolyaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Boroszl%C3%A1nf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Borsf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Brom%C3%A9liaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Bunk%C3%B3sp%C3%A1lmaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Burgonyaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Buz%C3%A9rf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/B%C3%BCkkfaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Chlamydomonadaceae
https://hu.wikipedia.org/wiki/Cik%C3%A1szf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Ciprusf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Cleomaceae
https://hu.wikipedia.org/wiki/Csal%C3%A1nf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Csatavir%C3%A1gf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Csavarp%C3%A1lmaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Csik%C3%B3fark
https://hu.wikipedia.org/wiki/Csipkeharasztok
https://hu.wikipedia.org/wiki/Csodat%C3%B6lcs%C3%A9rf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Csuporkaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Dasypogonaceae
https://hu.wikipedia.org/wiki/Dill%C3%A9niaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Dinnyefaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Di%C3%B3faf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Dipentodontaceae
https://hu.wikipedia.org/wiki/Dipterokarpuszf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/D%C3%ADszlev%C3%A9lfaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Diszn%C3%B3par%C3%A9jf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Eperfaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Escalloniaceae
https://hu.wikipedia.org/wiki/Ez%C3%BCstfaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Fak%C3%ADnf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Farkasalmaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Feny%C5%91f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Fissidentaceae
https://hu.wikipedia.org/wiki/Fogpiszk%C3%A1l%C3%B3f%C5%B1
https://hu.wikipedia.org/wiki/F%C5%B1faf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/F%C5%B1szercserjef%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/F%C3%BCz%C3%A9nyf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/F%C5%B1zfaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Gn%C3%A9tum
https://hu.wikipedia.org/wiki/Golgotavir%C3%A1gf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/G%C3%B3lyaorrf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/G%C3%B6rv%C3%A9lyf%C5%B1f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Gy%C3%A9k%C3%A9nyf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Gyommohaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Gy%C3%B6mb%C3%A9rf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Gy%C3%B6ngyvir%C3%A1gfaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Halimedaceae
https://hu.wikipedia.org/wiki/Hangaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Harangvir%C3%A1gf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Harmatf%C5%B1f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Hernandiaceae
https://hu.wikipedia.org/wiki/H%C3%ADd%C5%91rf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Hortenziaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Hydatellaceae
https://hu.wikipedia.org/wiki/Hypoxidaceae
https://hu.wikipedia.org/wiki/Ibolyaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Jap%C3%A1n_erny%C5%91feny%C5%91
https://hu.wikipedia.org/wiki/Kaktuszf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/K%C3%A1lmosvir%C3%A1g%C3%BAak
https://hu.wikipedia.org/wiki/Kankalinf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Kannaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/K%C3%A1posztaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Kaprif%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Kazu%C3%A1rfaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Kecsker%C3%A1g%C3%B3f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/K%C3%A9kh%C3%BCvelyf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Kenderf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Keser%C5%B1f%C5%B1f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Kikericsf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Kontyvir%C3%A1gf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Kosborf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/K%C5%91tiszafaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/K%C5%91t%C3%B6r%C5%91f%C5%B1f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Krist%C3%A1lyvir%C3%A1gf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Kutyatejf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/K%C3%BCll%C5%91folyond%C3%A1rf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/K%C3%BCrtvir%C3%A1gf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Laxmanniaceae
https://hu.wikipedia.org/wiki/Lenf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Ligetsz%C3%A9pef%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Liliomfaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Liliomf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Loncf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/L%C3%B3tuszf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Mad%C3%A1rs%C3%B3skaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Magyal
https://hu.wikipedia.org/wiki/M%C3%A1kf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Malpighicserjef%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/M%C3%A1lyvaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Medvek%C3%B6r%C3%B6mf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Met%C3%A9ngf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Mirtuszf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Mocs%C3%A1rciprusf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Musk%C3%A1tdi%C3%B3f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Neb%C3%A1ncsvir%C3%A1gf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/N%C5%91sziromf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Ny%C3%ADlgy%C3%B6k%C3%A9rf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Ny%C3%ADrfaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Olajfaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/%C3%93lomgy%C3%B6k%C3%A9rf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Orb%C3%A1ncf%C5%B1f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/%C3%93ri%C3%A1svir%C3%A1gf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/%C5%90szir%C3%B3zsaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/P%C3%A1fr%C3%A1nyfeny%C5%91f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Palkaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/P%C3%A1lmaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Papag%C3%A1jvir%C3%A1g-f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Paracryphiaceae
https://hu.wikipedia.org/wiki/Perjef%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Petrosaviaceae
https://hu.wikipedia.org/wiki/P%C3%A9zsmabogl%C3%A1rf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Philesiaceae
https://hu.wikipedia.org/wiki/Picramniaceae
https://hu.wikipedia.org/wiki/Pillang%C3%B3svir%C3%A1g%C3%BAak
https://hu.wikipedia.org/wiki/Plat%C3%A1nf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Porcsinf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Pottiaceae
https://hu.wikipedia.org/wiki/Pr%C3%B3teaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Puszp%C3%A1ngf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Rezedaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/R%C3%B3zsaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Rutaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Sabiaceae
https://hu.wikipedia.org/wiki/Saururaceae
https://hu.wikipedia.org/wiki/Schisandraceae
https://hu.wikipedia.org/wiki/Schoepfiaceae
https://hu.wikipedia.org/wiki/Somf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Sp%C3%A1rgaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Szappanfaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Szegf%C5%B1f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Szilfaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Szitty%C3%B3f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Szivarfaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Sz%C5%91l%C5%91f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Sz%C3%B6m%C3%B6rcef%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Szuharf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Szul%C3%A1kf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/T%C3%A1rnicsf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Teaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Tiszafaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/T%C3%B6kf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Trochodendraceae
https://hu.wikipedia.org/wiki/T%C3%BCnd%C3%A9rh%C3%ADn%C3%A1rf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/T%C3%BCnd%C3%A9rr%C3%B3zsaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/%C3%9Atif%C5%B1f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Vajvir%C3%A1gf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Varj%C3%BAh%C3%A1jf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Vasf%C5%B1f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Vell%C3%B3ziaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Vidraf%C5%B1f%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Vill%C3%A1sp%C3%A1lmaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Vir%C3%A1gk%C3%A1kaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Vir%C3%A1gs%C3%A1sf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/V%C3%ADzij%C3%A1cintf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Volvocaceae
https://hu.wikipedia.org/wiki/Z%C3%A1szpaf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Zellerf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Zsurl%C3%B3faf%C3%A9l%C3%A9k
https://hu.wikipedia.org/wiki/Zsurl%C3%B3f%C3%A9l%C3%A9k
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="egy-weblap-adatainak-kigyujtese">
<h2>Egy weblap adatainak kigyűjtése<a class="headerlink" href="#egy-weblap-adatainak-kigyujtese" title="Link to this heading">#</a></h2>
<p><img alt="web_scraping_2" src="../_images/web_scraping_2.png" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#mw-content-text &gt; div.mw-content-ltr.mw-parser-output &gt; p:nth-of-type(2)</span>
<span class="c1">#firstHeading &gt; span.mw-page-title-main</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://hu.wikipedia.org/wiki/Z%C3%A1szpaf%C3%A9l%C3%A9k&quot;</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;#mw-content-text &gt; div.mw-content-ltr.mw-parser-output &gt; p:nth-of-type(2)&quot;</span><span class="p">)</span>
<span class="n">title</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;#firstHeading &gt; span.mw-page-title-main&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">title</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Zászpafélék
Gyöktörzses vagy hagymás évelő növények. A legtöbb faj rizómás és leveles szárú. Virágaik végállóak, sugarasan szimmetrikusak, lepelleveleik pedig szabadok. Termésük egységesen toktermés. Sok génusz levelei örvösen állnak, tenyeresen erezettek, kivéve éppen a névadó zászpa (Veratrum) nemzetséget. Fontos jellegzetességük, hogy a csucsorokhoz hasonlóan erősen mérgező és rákkeltő szteroid alkaloidokat tartalmaznak. Amikor a történelmi Magyarország hegyvidékein a tárnics (Gentiana) gyökerét gyűjtötték szeszfőzéshez, gyakran összetévesztették a zászpával, és ez súlyos mérgezésekhez vezetett.
</pre></div>
</div>
</div>
</div>
</section>
<section id="osszes-weblap-adatainak-kigyujtese-fajlba">
<h2>Összes weblap adatainak kigyűjtése fájlba<a class="headerlink" href="#osszes-weblap-adatainak-kigyujtese-fajlba" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data_plant.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">links</span><span class="p">)):</span>    
    <span class="n">response</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">links</span><span class="p">[</span><span class="n">item</span><span class="p">])</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;#firstHeading &gt; span.mw-page-title-main&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;mw-content-ltr mw-parser-output&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
      
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">title</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">description</span><span class="p">))</span>    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>|
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">18</span><span class="p">],</span> <span class="n">line</span> <span class="mi">4</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data_plant.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">links</span><span class="p">)):</span>    
<span class="ne">----&gt; </span><span class="mi">4</span>     <span class="n">response</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">links</span><span class="p">[</span><span class="n">item</span><span class="p">])</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>     <span class="n">title</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;#firstHeading &gt; span.mw-page-title-main&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>

<span class="nn">File c:\Python312\Lib\site-packages\requests\api.py:73,</span> in <span class="ni">get</span><span class="nt">(url, params, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">62</span> <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">63</span><span class="w">     </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sends a GET request.</span>
<span class="g g-Whitespace">     </span><span class="mi">64</span><span class="sd"> </span>
<span class="g g-Whitespace">     </span><span class="mi">65</span><span class="sd">     :param url: URL for the new :class:`Request` object.</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">     </span><span class="mi">70</span><span class="sd">     :rtype: requests.Response</span>
<span class="g g-Whitespace">     </span><span class="mi">71</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">---&gt; </span><span class="mi">73</span>     <span class="k">return</span> <span class="n">request</span><span class="p">(</span><span class="s2">&quot;get&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File c:\Python312\Lib\site-packages\requests\api.py:59,</span> in <span class="ni">request</span><span class="nt">(method, url, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">55</span> <span class="c1"># By using the &#39;with&#39; statement we are sure the session is closed, thus we</span>
<span class="g g-Whitespace">     </span><span class="mi">56</span> <span class="c1"># avoid leaving sockets open which can trigger a ResourceWarning in some</span>
<span class="g g-Whitespace">     </span><span class="mi">57</span> <span class="c1"># cases, and look like a memory leak in others.</span>
<span class="g g-Whitespace">     </span><span class="mi">58</span> <span class="k">with</span> <span class="n">sessions</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">59</span>     <span class="k">return</span> <span class="n">session</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File c:\Python312\Lib\site-packages\requests\sessions.py:589,</span> in <span class="ni">Session.request</span><span class="nt">(self, method, url, params, data, headers, cookies, files, auth, timeout, allow_redirects, proxies, hooks, stream, verify, cert, json)</span>
<span class="g g-Whitespace">    </span><span class="mi">584</span> <span class="n">send_kwargs</span> <span class="o">=</span> <span class="p">{</span>
<span class="g g-Whitespace">    </span><span class="mi">585</span>     <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="n">timeout</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">586</span>     <span class="s2">&quot;allow_redirects&quot;</span><span class="p">:</span> <span class="n">allow_redirects</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">587</span> <span class="p">}</span>
<span class="g g-Whitespace">    </span><span class="mi">588</span> <span class="n">send_kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">589</span> <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">prep</span><span class="p">,</span> <span class="o">**</span><span class="n">send_kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">591</span> <span class="k">return</span> <span class="n">resp</span>

<span class="nn">File c:\Python312\Lib\site-packages\requests\sessions.py:703,</span> in <span class="ni">Session.send</span><span class="nt">(self, request, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">700</span> <span class="n">start</span> <span class="o">=</span> <span class="n">preferred_clock</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">702</span> <span class="c1"># Send the request</span>
<span class="ne">--&gt; </span><span class="mi">703</span> <span class="n">r</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">705</span> <span class="c1"># Total elapsed time of the request (approximately)</span>
<span class="g g-Whitespace">    </span><span class="mi">706</span> <span class="n">elapsed</span> <span class="o">=</span> <span class="n">preferred_clock</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>

<span class="nn">File c:\Python312\Lib\site-packages\requests\adapters.py:486,</span> in <span class="ni">HTTPAdapter.send</span><span class="nt">(self, request, stream, timeout, verify, cert, proxies)</span>
<span class="g g-Whitespace">    </span><span class="mi">483</span>     <span class="n">timeout</span> <span class="o">=</span> <span class="n">TimeoutSauce</span><span class="p">(</span><span class="n">connect</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">read</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">485</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">486</span>     <span class="n">resp</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">487</span>         <span class="n">method</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">method</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">488</span>         <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">489</span>         <span class="n">body</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">490</span>         <span class="n">headers</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">491</span>         <span class="n">redirect</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">492</span>         <span class="n">assert_same_host</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">493</span>         <span class="n">preload_content</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">494</span>         <span class="n">decode_content</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">495</span>         <span class="n">retries</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_retries</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">496</span>         <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">497</span>         <span class="n">chunked</span><span class="o">=</span><span class="n">chunked</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">498</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">500</span> <span class="k">except</span> <span class="p">(</span><span class="n">ProtocolError</span><span class="p">,</span> <span class="ne">OSError</span><span class="p">)</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">501</span>     <span class="k">raise</span> <span class="ne">ConnectionError</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">)</span>

<span class="nn">File c:\Python312\Lib\site-packages\urllib3\connectionpool.py:793,</span> in <span class="ni">HTTPConnectionPool.urlopen</span><span class="nt">(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, preload_content, decode_content, **response_kw)</span>
<span class="g g-Whitespace">    </span><span class="mi">790</span> <span class="n">response_conn</span> <span class="o">=</span> <span class="n">conn</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">release_conn</span> <span class="k">else</span> <span class="kc">None</span>
<span class="g g-Whitespace">    </span><span class="mi">792</span> <span class="c1"># Make the request on the HTTPConnection object</span>
<span class="ne">--&gt; </span><span class="mi">793</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">794</span>     <span class="n">conn</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">795</span>     <span class="n">method</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">796</span>     <span class="n">url</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">797</span>     <span class="n">timeout</span><span class="o">=</span><span class="n">timeout_obj</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">798</span>     <span class="n">body</span><span class="o">=</span><span class="n">body</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">799</span>     <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">800</span>     <span class="n">chunked</span><span class="o">=</span><span class="n">chunked</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">801</span>     <span class="n">retries</span><span class="o">=</span><span class="n">retries</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">802</span>     <span class="n">response_conn</span><span class="o">=</span><span class="n">response_conn</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">803</span>     <span class="n">preload_content</span><span class="o">=</span><span class="n">preload_content</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">804</span>     <span class="n">decode_content</span><span class="o">=</span><span class="n">decode_content</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">805</span>     <span class="o">**</span><span class="n">response_kw</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">806</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">808</span> <span class="c1"># Everything went great!</span>
<span class="g g-Whitespace">    </span><span class="mi">809</span> <span class="n">clean_exit</span> <span class="o">=</span> <span class="kc">True</span>

<span class="nn">File c:\Python312\Lib\site-packages\urllib3\connectionpool.py:467,</span> in <span class="ni">HTTPConnectionPool._make_request</span><span class="nt">(self, conn, method, url, body, headers, retries, timeout, chunked, response_conn, preload_content, decode_content, enforce_content_length)</span>
<span class="g g-Whitespace">    </span><span class="mi">464</span> <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">465</span>     <span class="c1"># Trigger any extra validation we need to do.</span>
<span class="g g-Whitespace">    </span><span class="mi">466</span>     <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">467</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_validate_conn</span><span class="p">(</span><span class="n">conn</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">468</span>     <span class="k">except</span> <span class="p">(</span><span class="n">SocketTimeout</span><span class="p">,</span> <span class="n">BaseSSLError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">469</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_raise_timeout</span><span class="p">(</span><span class="n">err</span><span class="o">=</span><span class="n">e</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">timeout_value</span><span class="o">=</span><span class="n">conn</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>

<span class="nn">File c:\Python312\Lib\site-packages\urllib3\connectionpool.py:1099,</span> in <span class="ni">HTTPSConnectionPool._validate_conn</span><span class="nt">(self, conn)</span>
<span class="g g-Whitespace">   </span><span class="mi">1097</span> <span class="c1"># Force connect early to allow us to validate the connection.</span>
<span class="g g-Whitespace">   </span><span class="mi">1098</span> <span class="k">if</span> <span class="n">conn</span><span class="o">.</span><span class="n">is_closed</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1099</span>     <span class="n">conn</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="g g-Whitespace">   </span><span class="mi">1101</span> <span class="c1"># TODO revise this, see https://github.com/urllib3/urllib3/issues/2791</span>
<span class="g g-Whitespace">   </span><span class="mi">1102</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">conn</span><span class="o">.</span><span class="n">is_verified</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">conn</span><span class="o">.</span><span class="n">proxy_is_verified</span><span class="p">:</span>

<span class="nn">File c:\Python312\Lib\site-packages\urllib3\connection.py:616,</span> in <span class="ni">HTTPSConnection.connect</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">614</span> <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">615</span>     <span class="n">sock</span><span class="p">:</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span> <span class="o">|</span> <span class="n">ssl</span><span class="o">.</span><span class="n">SSLSocket</span>
<span class="ne">--&gt; </span><span class="mi">616</span>     <span class="bp">self</span><span class="o">.</span><span class="n">sock</span> <span class="o">=</span> <span class="n">sock</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_new_conn</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">617</span>     <span class="n">server_hostname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">host</span>
<span class="g g-Whitespace">    </span><span class="mi">618</span>     <span class="n">tls_in_tls</span> <span class="o">=</span> <span class="kc">False</span>

<span class="nn">File c:\Python312\Lib\site-packages\urllib3\connection.py:198,</span> in <span class="ni">HTTPConnection._new_conn</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">193</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Establish a socket connection and set nodelay settings on it.</span>
<span class="g g-Whitespace">    </span><span class="mi">194</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">195</span><span class="sd"> :return: New socket connection.</span>
<span class="g g-Whitespace">    </span><span class="mi">196</span><span class="sd"> &quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">197</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">198</span>     <span class="n">sock</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">create_connection</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">199</span>         <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dns_host</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">200</span>         <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">201</span>         <span class="n">source_address</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_address</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">202</span>         <span class="n">socket_options</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">socket_options</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">203</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">204</span> <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">gaierror</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">205</span>     <span class="k">raise</span> <span class="n">NameResolutionError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">host</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

<span class="nn">File c:\Python312\Lib\site-packages\urllib3\util\connection.py:73,</span> in <span class="ni">create_connection</span><span class="nt">(address, timeout, source_address, socket_options)</span>
<span class="g g-Whitespace">     </span><span class="mi">71</span> <span class="k">if</span> <span class="n">source_address</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">72</span>     <span class="n">sock</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">source_address</span><span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">73</span> <span class="n">sock</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">sa</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">74</span> <span class="c1"># Break explicitly a reference cycle</span>
<span class="g g-Whitespace">     </span><span class="mi">75</span> <span class="n">err</span> <span class="o">=</span> <span class="kc">None</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
</section>
<section id="adatok-alapjan-uj-html-fajl-generalasa">
<h2>Adatok alapján új HTML fájl generálása<a class="headerlink" href="#adatok-alapjan-uj-html-fajl-generalasa" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">links</span><span class="p">)):</span>    
    <span class="n">response</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">links</span><span class="p">[</span><span class="n">item</span><span class="p">])</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;#firstHeading &gt; span.mw-page-title-main&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;mw-content-ltr mw-parser-output&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
    <span class="c1">#print(str(item) + &quot;. weboldal feldolgozva:&quot;)    </span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">title</span><span class="p">,</span> <span class="n">description</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">item</span><span class="o">%</span><span class="k">50</span> != 0:
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>||||||||||||||||||||||||||||||||||||||||||||||||||

||||||||||||||||||||||||||||||||||||||||||||||||||

||||||||||||||||||||||||||||||||||||||||||||||||||

||||||||||||||||||||||||||||||
[&#39;Annónafélék&#39;, &#39;Az annónafélék (Annonaceae) a liliomfa-virágúak (Magnoliales) rendjének egyik családja, bár egyes szerzők külön rendet, az annónavirágúakét (Annonales) alkotnák meg nekik.\n&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Alkörmösfélék&#39;, &#39;Az alkörmösfélék (Phytolaccaceae) a szegfűvirágúak (Caryophyllales) rendjének egyik családja. 16 nemzetségébe mintegy 120 faj tartozik.\n&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;plants_index.html&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;&lt;!DOCTYPE html&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;&lt;html&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;&lt;head&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;&lt;title&gt;Title and Description&lt;/title&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;&lt;/head&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;&lt;body&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">title</span><span class="p">,</span> <span class="n">description</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&lt;h1&gt;</span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">&lt;/h1&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>        
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&lt;p&gt;</span><span class="si">{</span><span class="n">description</span><span class="si">}</span><span class="s2">&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;&lt;hr&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span> 
            
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;&lt;/body&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;&lt;/html&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>A ()-ben található részeket emeljük ki.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;i&gt;(&quot;</span><span class="p">)</span>
<span class="n">description</span> <span class="o">=</span> <span class="n">description</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;)&lt;/i&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="marvel-karakterek">
<h1>3. Marvel karakterek<a class="headerlink" href="#marvel-karakterek" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://en.wikipedia.org/wiki/List_of_Ultimate_Marvel_characters&quot;</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>

<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Siker!&quot;</span><span class="p">)</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200
Siker!
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">printLimited</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;!DOCTYPE html&gt;

&lt;html class=&quot;client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-client-preferences-disabled vector-feature-client-prefs-pinned-clientpref-0 vector-feature-night-mode-disabled skin-theme-clientpref-day vector-toc-not-available&quot; dir=&quot;ltr&quot; lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;/&gt;
&lt;title&gt;List of Ultimate Marvel characters - Wikipedia&lt;/title&gt;
&lt;script&gt;(function(){var className=&quot;client-js vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-
</pre></div>
</div>
</div>
</div>
<section id="linkek-elkeszitese">
<h2>Linkek elkészítése<a class="headerlink" href="#linkek-elkeszitese" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#mw-content-text &gt; div.mw-content-ltr.mw-parser-output &gt; ul:nth-child(5) &gt; li:nth-child(3) &gt; a</span>

<span class="n">characters</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;#mw-content-text &gt; div.mw-content-ltr.mw-parser-output &gt; ul &gt; li &gt; a&quot;</span><span class="p">)</span>
<span class="c1">#print(characters)</span>

<span class="n">links</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">characters</span><span class="p">:</span>
    <span class="n">links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;https://en.wikipedia.org&quot;</span><span class="o">+</span><span class="n">link</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>    
    <span class="nb">print</span><span class="p">(</span><span class="n">links</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>https://en.wikipedia.org/wiki/Ant-Man
https://en.wikipedia.org/wiki/Abomination_(comics)#Ultimate
https://en.wikipedia.org/wiki/Abraham_Cornelius#Ultimate_Marvel
https://en.wikipedia.org/wiki/Abraham_Erskine
https://en.wikipedia.org/wiki/Absorbing_Man
https://en.wikipedia.org/wiki/Vulture_(Marvel_Comics)#Ultimate_Marvel
https://en.wikipedia.org/wiki/Agatha_Harkness#Other_versions
https://en.wikipedia.org/wiki/Advanced_Idea_Mechanics#Ultimate_Marvel
https://en.wikipedia.org/wiki/Salem%27s_Seven
https://en.wikipedia.org/wiki/Amphibian_(comics)
</pre></div>
</div>
</div>
</div>
</section>
<section id="linkek-szurese-es-adatgyujtes">
<h2>Linkek szűrése és adatgyűjtés<a class="headerlink" href="#linkek-szurese-es-adatgyujtes" title="Link to this heading">#</a></h2>
<p>Amelyik linkben “#” szerepel, az egy gyűjtőlap. Azokat a karaktereket kihagyjuk.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">):</span>        
    <span class="n">response</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">links</span><span class="p">[</span><span class="n">item</span><span class="p">])</span>
    <span class="k">if</span> <span class="s2">&quot;#&quot;</span> <span class="ow">or</span> <span class="s2">&quot;(&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;#firstHeading &gt; span.mw-page-title-main&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
        <span class="n">description</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;mw-content-ltr mw-parser-output&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;. weboldal feldolgozva:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">description</span><span class="p">)</span>  
        <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data_marvel.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">title</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">description</span><span class="p">))</span>    
    <span class="k">else</span><span class="p">:</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0. weboldal feldolgozva:
Ant-Man
Created by Stan Lee, Larry Lieber and Jack Kirby, his first appearance was in Tales to Astonish #27 (January 1962) as Dr. Henry Pym; however, he first appeared in costume as Ant-Man in Tales to Astonish #35 (September 1962). The persona was originated by  the brilliant scientist Hank Pym&#39;s superhero alias after inventing a substance that can change size (Pym Particles), but reformed thieves Scott Lang and Eric O&#39;Grady also took on the Ant-Man mantle after the original changed his superhero identity to various other aliases, such as Giant-Man, Goliath, and Yellowjacket. Pym&#39;s Ant-Man is also a founding member of the super hero team known as the Avengers. The character has appeared in several films based on the Marvel character, such as Ant-Man (2015), Captain America: Civil War (2016), Ant-Man and the Wasp (2018), Avengers: Endgame (2019), and Ant-Man and the Wasp: Quantumania (2023).

1. weboldal feldolgozva:
Abomination (character)
Debuting in the Silver Age of Comic Books, the character has been featured in other Marvel-endorsed products such as arcade and video games, television series, and merchandise such as action figures and trading cards. Tim Roth portrays Emil Blonsky / Abomination in the live-action Marvel Cinematic Universe (MCU) films The Incredible Hulk (2008) and Shang-Chi and the Legend of the Ten Rings (2021), as well as the Disney+ series She-Hulk: Attorney at Law (2022).

2. weboldal feldolgozva:
Abraham Cornelius
Dr. Abraham Cornelius, one of the senior scientists for Weapon X, is employed by the mysterious Professor Andre Thorton and partnered with a young Dr. Carol Hines. Sometime after World War II, Wolverine is taken in by the project and Cornelius is assigned with the task of perfecting and using a technique that would bond the indestructible alloy adamantium to human bone cells. This adamantium-bonding process was first created by Lord Dark Wind (Lady Deathstrike&#39;s father), but is only put into use after being perfected by Cornelius when he succeeds in bonding Logan&#39;s skeleton with adamantium, after which Logan is indoctrinated into the Weapon X assassin program.[1]

3. weboldal feldolgozva:
List of Marvel Comics characters: E
When John and his father Bill were investigating a UFO crash site, they discovered a Kree space probe. Upon nearing the ship, the automated defenses activated, and a robotic sentry was released. Bill activated a distress signal which was picked up by Mainframe and the rest of A-Next.

4. weboldal feldolgozva:
Absorbing Man
The Absorbing Man debuted in Journey into Mystery #114 (March 1965), created by Stan Lee and Jack Kirby.[10] He appeared in the 2017 Black Bolt series, by Saladin Ahmed.[11][12]

5. weboldal feldolgozva:
Vulture (Marvel Comics)
The first incarnation of the character, Isidoro Scarlotti, is an Italian scientist and an enemy of the original Human Torch and Toro. The second and most prominent incarnation of the character, Adrian Toomes, is an inventive but maniacal genius who designed his suit and turned to a life of crime, becoming an enemy of Spider-Man and a founding member of the Sinister Six, with later characters to assume the mantle including Blackie Drago, a former cellmate of Toomes, and Clifton Shallot and Jimmy Natale, human/bird hybrids of independent origins. Toomes is later revealed to be the grandfather of the superhero Starling.

6. weboldal feldolgozva:
Agatha Harkness
Agatha Harkness debuted in Fantastic Four #94 (October 1969), created by Stan Lee and Jack Kirby.[7] She appeared in the Avengers Disassembled storyline,[8] in the 2022 Midnight Suns series,[9] and in the 2023 Scarlet Witch Annual series.[10]

7. weboldal feldolgozva:
Advanced Idea Mechanics
Since its original introduction in comics, A.I.M. has been featured in various other Marvel-licensed products including video games and television series. The organization made its live action debut in the Marvel Cinematic Universe film Iron Man 3 (2013), in which it was headed by Aldrich Killian.

8. weboldal feldolgozva:
Salem&#39;s Seven
Salem&#39;s Seven originated in New Salem, Colorado, a hidden town in an unsettled part of the Rocky Mountains, populated entirely by magic users who mostly lived in fear of normal humanity due to the persecution they faced during the Salem witch trials. Salem&#39;s Seven were fathered by Nicholas Scratch with different mothers. Scratch&#39;s own mother Agatha Harkness was the most powerful of the town&#39;s inhabitants, but she chose to live among humanity. In time, she becomes the governess for Franklin Richards (son of Invisible Woman and Mister Fantastic of the Fantastic Four). Scratch has Salem&#39;s Seven abduct Agatha purportedly for betraying the New Salem community. They bring Franklin back with them to give to Scratch a new host-body, which forces the Fantastic Four to pursue. Although initially overcome and imprisoned, the Four defeat their captors, banish Scratch from this dimension, and save Harkness. When Salem&#39;s Seven try to retaliate against Harkness later, she removes their ability to change forms.[3]

9. weboldal feldolgozva:
List of Marvel Comics characters: A
Abyss is the name of different characters appearing in American comic books published by Marvel Comics.

10. weboldal feldolgozva:
Anaconda (character)
Anaconda was created by Mark Gruenwald and Ralph Macchio and first appeared in Marvel Two-in-One #64 in June 1980.[2]

11. weboldal feldolgozva:
Ancient One
The Ancient One was created by Stan Lee and Steve Ditko and first appeared in Strange Tales #110 (cover-dated July 1963),[citation needed].[1]

12. weboldal feldolgozva:
Apocalypse (character)
While writing the first five issues of X-Factor, Bob Layton dropped hints of a villain operating behind the scenes and leading the Alliance of Evil (mentioned in X-Factor #4, May 1986). Layton intended to reveal this character to be the Daredevil villain the Owl on the final page of X-Factor #5.[4] However, Layton left the book after writing this issue and was replaced by writer Louise Simonson. Editor Bob Harras said that the character arose because of storytelling needs: &quot;All I had communicated to Louise was my desire that an A-level, first class character be introduced. I wanted a Magneto-level villain who would up the stakes and give the X-Factor team reason to exist.&quot;[5]

13. weboldal feldolgozva:
Arcade (Marvel Comics)
Arcade has appeared in a number of other Marvel properties outside of comic books, in X-Men: Evolution voiced by Gabe Khouth, and in the Ultimate Spider-Man animated series voiced by Eric Bauza. The character made his live-action debut in the 20th Century Fox film Deadpool 2 (2018) portrayed by co-writer Paul Wernick. He has also appeared as one of the main villains in a number of video games, including X-Men: Madness in Murderworld, Spider-Man/X-Men: Arcade&#39;s Revenge, Marvel: Ultimate Alliance, Spider-Man: Edge of Time and Marvel: Avengers Alliance.

14. weboldal feldolgozva:
List of Marvel Comics characters: A
Abyss is the name of different characters appearing in American comic books published by Marvel Comics.
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Témakörök Python oktatásához</p>
      </div>
    </a>
    <a class="right-next"
       href="scraping_wikipedia_birds.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Wikipédia madárcsaládok</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Adatbányászat - Web scraping</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#szukseges-konyvtarak-telepitese-importalasa">Szükséges könyvtárak telepítése, importálása</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mintafeladat">1. Mintafeladat</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#weboldal-elerese">Weboldal elérése</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#print-limitalasa"><code>print()</code> limitálása</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#weboldal-tartalmanak-kinyerese">Weboldal tartalmának kinyerése</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cim-kiiratasa-title">Cím kiíratása - <code>title</code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#orszag-ok-nevei-find-es-find-all">Ország(ok) nevei - <code>find</code> és <code>find_all</code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#orszag-ok-adatai">Ország(ok) adatai</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#leg-orszagok">Leg… országok</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kivalasztott-weboldal-elerese">2. Kiválasztott weboldal elérése</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#beautifulsoup-konyvtar-alapok">BeautifulSoup könyvtár alapok</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#feladat-ellenorizd-le-a-soup-valtozo-tartalmat">Feladat - ellenőrizd le a <code>soup</code> változó tartalmát!</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bizonyos-html-tag-keresese">Bizonyos HTML tag keresése</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#egy-weblap-adatainak-kigyujtese">Egy weblap adatainak kigyűjtése</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#osszes-weblap-adatainak-kigyujtese-fajlba">Összes weblap adatainak kigyűjtése fájlba</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adatok-alapjan-uj-html-fajl-generalasa">Adatok alapján új HTML fájl generálása</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#marvel-karakterek">3. Marvel karakterek</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linkek-elkeszitese">Linkek elkészítése</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linkek-szurese-es-adatgyujtes">Linkek szűrése és adatgyűjtés</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Csóka Márk
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>